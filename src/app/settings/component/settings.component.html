<form class="p-8" [formGroup]="settingsForm">

  <mat-accordion>
    <mat-expansion-panel hideToggle [expanded]='userPreferences?.badgeEnabled' [disabled]='!userPreferences?.badgeEnabled'>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Enable badge
        </mat-panel-title>
        <mat-slide-toggle formControlName="badgeEnabled" id="badgeEnabled"></mat-slide-toggle>
      </mat-expansion-panel-header>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          Enable changing color
        </mat-panel-title>
        <mat-slide-toggle formControlName="changingColorEnabled" id="changingColorEnabled"></mat-slide-toggle>
      </div>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          Badge shows...
        </mat-panel-title>
        <mat-select class="form-control w-25" id="badgeTextType" required formControlName="badgeTextType" >
          <mat-option *ngFor="let badgeTextType of fileTypes" [value]="badgeTextType">
            {{FileType2LabelMapping[badgeTextType]}}
          </mat-option>
        </mat-select>
      </div>
    </mat-expansion-panel>

<!--  Graph setting  -->
  <mat-accordion>
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Graph settings
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          Decimation
        </mat-panel-title>
        <input type="tel" matInput formControlName="decimationNumPoints" id="decimationNumPoints">
      </div>
    </mat-expansion-panel>
  </mat-accordion>
<!--  Graph setting  -->

    <mat-expansion-panel hideToggle [expanded]='userPreferences?.deduplicateTabs' [disabled]='!userPreferences?.deduplicateTabs' *ngIf='userPreferences?.experimentsEnabled'>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Deduplicate tabs
        </mat-panel-title>
        <mat-slide-toggle formControlName="deduplicateTabs" id="deduplicateTabs"></mat-slide-toggle>
      </mat-expansion-panel-header>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          Deduplicate new tab
        </mat-panel-title>
        <mat-slide-toggle formControlName="deduplicateNewTab" id="deduplicateNewTab"></mat-slide-toggle>
      </div>
    </mat-expansion-panel>

    <mat-expansion-panel hideToggle [expanded]='userPreferences?.snoozingEnabled' [disabled]='!userPreferences?.snoozingEnabled' *ngIf='userPreferences?.experimentsEnabled'>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Snoozed tabs
        </mat-panel-title>
        <mat-slide-toggle formControlName="snoozingEnabled" id="snoozingEnabled"></mat-slide-toggle>
      </mat-expansion-panel-header>
    </mat-expansion-panel>

    <mat-expansion-panel expanded>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Data
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          Clear stored tab data
        </mat-panel-title>
        <button mat-raised-button (click)="clearTabData()">Clear</button>
      </div>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          Reset settings
        </mat-panel-title>
        <button mat-raised-button (click)="resetSettings()">Reset</button>
      </div>
    </mat-expansion-panel>

    <mat-expansion-panel expanded>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Other
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          Reset UUID
        </mat-panel-title>
        <button mat-raised-button (click)="resetUUID()">Reset</button>
      </div>
    </mat-expansion-panel>

    <mat-expansion-panel *ngIf='userPreferences?.experimentsEnabled'>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Experiments
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          tabsEnabled
        </mat-panel-title>
        <mat-slide-toggle formControlName="tabsEnabled" id="tabsEnabled"></mat-slide-toggle>
      </div>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          drillDownEnabled
        </mat-panel-title>
        <mat-slide-toggle formControlName="drillDownEnabled" id="drillDownEnabled"></mat-slide-toggle>
      </div>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          desiredTabs
        </mat-panel-title>
        <mat-slide-toggle formControlName="desiredTabs" id="desiredTabs"></mat-slide-toggle>
      </div>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>
          achievementsEnabled
        </mat-panel-title>
        <mat-slide-toggle formControlName="achievementsEnabled" id="achievementsEnabled"></mat-slide-toggle>
      </div>
    </mat-expansion-panel>

    <mat-expansion-panel *ngIf='userPreferences?.experimentsEnabled'>
      <mat-expansion-panel-header>
        <mat-panel-title>
          About
        </mat-panel-title>
      </mat-expansion-panel-header>

      <div class="d-flex p-2 pr-0 col-example">
        <mat-panel-title>Version</mat-panel-title>
        {{applicationVersion}}
      </div>
    </mat-expansion-panel>

  </mat-accordion>
</form>
